apiVersion: v1
kind: Pod
metadata:
  name: monerod-pod
  namespace: p2pool
spec:
  containers:
    - name: monerod-container
      image: busybox
      command:
        - sh
        - -c
        - |
          cd /data/monero
          ./monerod --rpc-bind-ip 192.168.0.188 \
            --confirm-external-bind \
            --zmq-pub tcp://192.168.0.188:18083 \
            --out-peers 32 \
            --in-peers 64 \
            --add-priority-node=p2pmd.xmrvsbeast.com:18080 \
            --add-priority-node=nodes.hashvault.pro:18080 \
            --disable-dns-checkpoints \
            --enable-dns-blocklist \
            --allow-local-ip \
            --proxy-allow-dns-leaks
      volumeMounts:
        - name: volv
          mountPath: /data
  volumes:
    - name: volv
      persistentVolumeClaim:
        claimName: local-path-pvc
